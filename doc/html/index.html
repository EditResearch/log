<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Log: C language logging library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Log<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">C langauge log library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">C language logging library </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README"></a> Simple library for logging activity in c langauge</p>
<h1><a class="anchor" id="autotoc_md1"></a>
What is logging</h1>
<p >Logging is process of recording internal activity of program during its running. This is useful mainly when happend something unexpected and nobody knows how and why. Logging output shows us sequence of step preceding of given accident and give us chance to find the source of problem. <a class="el" href="structLog.html">Log</a> output can be redirected into various output streams. For example to terminal (stdout, stderr) or named file etc.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Logging levels</h1>
<p >Logging can be divided to so called levels. Logging levels are logging outputs with given severity. Most common logging levels are Debug, Warning and Error. Every level means how severe given logging message is. Debug messages inform only about common interesting processes inside software, for example every input or output event. Warning messages inform about unexpected fails inside sofware, but the software can continue running without any problems. Error levels are unexpected fails inside software which are very severe and usualy software can't continue running or it is information about error which is needed to solve.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
What to log</h1>
<p >In general is necessary to log everything what helps to solve occurred problems or find source of the issue. That are usually input and output events which are very often source of an issue. Next importent place to logging are main loops of program and state machines where are states transitions and wehere is possible to occure potentional unexpected behaves.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Tutorial</h1>
<p >Target platforms are Linux or Window with MSYS system, or it is possible to use simply two source files copy pased into project. For build log library simply call make command: </p><div class="fragment"><div class="line">make</div>
<div class="line">make test</div>
<div class="line">sudo make install INCLUDE_PATH=/usr/include/ LIB_PATH=/usr/lib/</div>
</div><!-- fragment --><p> <a class="el" href="structLog.html">Log</a> library not opening or closing output streams for writing logging messages. This must be solved outside of the library. On the other hand this gives flexibility for registering of output logging streams. First of all is needed to prepare output streams. This could be file output or terminal output streams. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="log_8h.html">log.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">main(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    FILE * log_file = fopen(<span class="stringliteral">&quot;log_file.log&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(log_file == NULL)</div>
<div class="line">    {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;Can&#39;t open output logging file!\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="structLog.html">Log</a> * log = <a class="code hl_function" href="log_8c.html#a0db5577b8714b034f29dcd5e9670eeac">log_new</a>(2, (FILE*[2]) {stdout, log_file});</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(log != NULL)</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_function" href="log_8c.html#ade1b1a68d739b062758015b2952840b4">log_debug</a>(log, <span class="stringliteral">&quot;This is debug logging message&quot;</span>);</div>
<div class="line">        <a class="code hl_function" href="log_8c.html#a19ce845e586f08d0dc7581eed3ff3165">log_warning</a>(log, <span class="stringliteral">&quot;This is warning logging message&quot;</span>);</div>
<div class="line">        <a class="code hl_function" href="log_8c.html#ac150f5de87b962d50290beb0b416336d">log_error</a>(log, <span class="stringliteral">&quot;This is error logging message&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="log_8c.html#af8647bf9227edd1e2585616dd391cdad">log_set_quiet</a>(log, <span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(<a class="code hl_function" href="log_8c.html#a9da8a2ec33e8e1f72a447b82e7bae515">log_is_quiet</a>(log) == <span class="keyword">true</span>)</div>
<div class="line">            printf(<span class="stringliteral">&quot;Log is now off\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="log_8c.html#ad747328f810db9bc91249dff0ddb0527">log_delete</a>(log);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;Can&#39;t initialize Log object!\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    fclose(log_file);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line">}</div>
<div class="ttc" id="alog_8c_html_a0db5577b8714b034f29dcd5e9670eeac"><div class="ttname"><a href="log_8c.html#a0db5577b8714b034f29dcd5e9670eeac">log_new</a></div><div class="ttdeci">Log * log_new(size_t f_list_length, FILE *f_list[f_list_length])</div><div class="ttdoc">Log object constructor. Log messages are writen into all given FILE streams.</div><div class="ttdef"><b>Definition:</b> log.c:63</div></div>
<div class="ttc" id="alog_8c_html_a19ce845e586f08d0dc7581eed3ff3165"><div class="ttname"><a href="log_8c.html#a19ce845e586f08d0dc7581eed3ff3165">log_warning</a></div><div class="ttdeci">void log_warning(Log *log, char *format,...)</div><div class="ttdoc">Function for writing waring log messages into predefined FILE streams.</div><div class="ttdef"><b>Definition:</b> log.c:109</div></div>
<div class="ttc" id="alog_8c_html_a9da8a2ec33e8e1f72a447b82e7bae515"><div class="ttname"><a href="log_8c.html#a9da8a2ec33e8e1f72a447b82e7bae515">log_is_quiet</a></div><div class="ttdeci">bool log_is_quiet(Log *log)</div><div class="ttdoc">Function for getting information about enabled logging.</div><div class="ttdef"><b>Definition:</b> log.c:155</div></div>
<div class="ttc" id="alog_8c_html_ac150f5de87b962d50290beb0b416336d"><div class="ttname"><a href="log_8c.html#ac150f5de87b962d50290beb0b416336d">log_error</a></div><div class="ttdeci">void log_error(Log *log, char *format,...)</div><div class="ttdoc">Function for writing error log messages into predefined FILE streams.</div><div class="ttdef"><b>Definition:</b> log.c:127</div></div>
<div class="ttc" id="alog_8c_html_ad747328f810db9bc91249dff0ddb0527"><div class="ttname"><a href="log_8c.html#ad747328f810db9bc91249dff0ddb0527">log_delete</a></div><div class="ttdeci">void log_delete(Log *log)</div><div class="ttdoc">Destructor for Log object.</div><div class="ttdef"><b>Definition:</b> log.c:162</div></div>
<div class="ttc" id="alog_8c_html_ade1b1a68d739b062758015b2952840b4"><div class="ttname"><a href="log_8c.html#ade1b1a68d739b062758015b2952840b4">log_debug</a></div><div class="ttdeci">void log_debug(Log *log, char *format,...)</div><div class="ttdoc">Function for writing debug log messages into predefined FILE streams.</div><div class="ttdef"><b>Definition:</b> log.c:91</div></div>
<div class="ttc" id="alog_8c_html_af8647bf9227edd1e2585616dd391cdad"><div class="ttname"><a href="log_8c.html#af8647bf9227edd1e2585616dd391cdad">log_set_quiet</a></div><div class="ttdeci">void log_set_quiet(Log *log, bool enable)</div><div class="ttdoc">Settup function for control of writing log messages into predefined FILE streams.</div><div class="ttdef"><b>Definition:</b> log.c:146</div></div>
<div class="ttc" id="alog_8h_html"><div class="ttname"><a href="log_8h.html">log.h</a></div><div class="ttdoc">Header file for log library.</div></div>
<div class="ttc" id="astructLog_html"><div class="ttname"><a href="structLog.html">Log</a></div><div class="ttdef"><b>Definition:</b> log.c:17</div></div>
</div><!-- fragment --><p >Output of this code is:</p>
<div class="fragment"><div class="line">07-07-2022 12:29:19 [Debug] - Log init success</div>
<div class="line">07-07-2022 12:29:19 [Debug] - This is debug logging message</div>
<div class="line">07-07-2022 12:29:19 [Warning] - This is warning logging message</div>
<div class="line">07-07-2022 12:29:19 [Error] - This is error logging message</div>
<div class="line">Log is now off</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
